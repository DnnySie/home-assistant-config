- platform: template
  fans:
    livingroom_fan:
      friendly_name: "Livingroom fan"
      value_template: "{{ states('input_boolean.state') }}"
      speed_template: "{{ states('input_select.bedroom_fan_speed') }}"
      #oscillating_template: "{{ states('input_select.osc') }}"
      direction_template: "{{ states('input_select.bedroom_fan_direction') }}"
      turn_on:
        service: switch.turn_on
        entity_id: switch.livingroom_fan
      turn_off:
        service: switch.turn_off
        entity_id: switch.livingroom_fan
      set_speed:
        service: shell_command.livingroom_fan_speed
        data_template:
          speed: "{{ speed }}"
      #set_oscillating:
      #  service: script.fan_oscillating
      #  data_template:
      #    oscillating: "{{ oscillating }}"
      set_direction:
        service: shell_command.livingroom_fan_direction
        data_template:
          direction: "{{ direction }}"
      speeds:
        - '00'
        - '01'
        - '02'
